@page "/forms-links"
@using System.Text.Json
@inject HttpClient Http

<PageTitle>Forms & Links</PageTitle>

<h1 style="text-align: center;">Forms & Links</h1>

<div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; padding: 20px;">
    @foreach (var item in linkCategories)
    {
        <div class="bubble-card" style="flex: 1 1 300px; max-width: 400px;">
            <h2>@item.Title</h2>
            <ul style="list-style: none; padding-left: 0;">
                @foreach (var link in item.Links)
                {
                    <li style="margin: 8px 0;">
                        <a href="@link.Url" target="_blank" style="text-decoration: none; color: #0078D4;">
                            🔗 @link.Label
                        </a>
                    </li>
                }
            </ul>
        </div>
    }
</div>

@code {
    private List<LinkCategory> linkCategories = new();

    protected override async Task OnInitializedAsync()
    {
        var json = await Http.GetStringAsync("data/links.json");
        linkCategories = JsonSerializer.Deserialize<List<LinkCategory>>(json) ?? new();
    }

    public class LinkCategory
    {
        public required string Title { get; set; }
        public required List<LinkItem> Links { get; set; }
    }

    public class LinkItem
    {
        public required string Label { get; set; }
        public required string Url { get; set; }
    }
}
